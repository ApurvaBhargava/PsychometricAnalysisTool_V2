{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-mic-record.min.js","webpack:///webpack/bootstrap 9c14a8afa5bb07fc85c3","webpack:///./src/index.js","webpack:///./src/components/ReactMicRecord.js","webpack:///./src/libs/AudioContext.js","webpack:///./src/libs/AudioPlayer.js","webpack:///./src/libs/MicrophoneRecorder.js","webpack:///./src/libs/Visualizer.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","browserSupportsAudio","AudioContextClass","window","AudioContext","webkitAudioContext","tmp","ok","createAnalyser","__WEBPACK_IMPORTED_MODULE_0__components_ReactMicRecord__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1__libs_MicrophoneRecorder__","__WEBPACK_IMPORTED_MODULE_2__libs_AudioContext__","__WEBPACK_IMPORTED_MODULE_3__libs_AudioPlayer__","__WEBPACK_IMPORTED_MODULE_4__libs_Visualizer__","ReactMicRecord","_class","_temp","_React$Component","props","_this","audioContext","microphoneRecorder","state","canvas","canvasCtx","componentDidMount","_this2","_props","onStop","onStart","onData","audioElem","audioBitsPerSecond","mimeType","visualizerRef","getContext","options","audioPlayer","setState","visualize","componentWillUnmount","unMount","clear","_props2","backgroundColor","strokeColor","width","height","visualSetting","_state","visualizer","visualizeSineWave","visualizeFrequencyBars","_state2","clearRect","render","_this3","_props3","record","className","startRecording","stopRecording","a","createElement","ref","Component","defaultProps","audioCtx","analyser","getAudioContext","getAnalyser","AudioPlayer","audioSource","createMediaElementSource","connect","destination","MicrophoneRecorder","constraints","audio","video","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","stream","onStartCb","onStopCb","mediaOptions","chunks","startTime","Date","now","mediaRecorder","resume","start","createMediaStreamSource","mediaDevices","console","log","then","str","MediaRecorder","isTypeSupported","onstop","ondataavailable","e","push","data","alert","stop","suspend","getTracks","blob","Blob","type","blobObject","stopTime","blobURL","URL","createObjectURL","hexToRgb","hex","result","exec","r","parseInt","g","b","Visualizer","drawVisual","fftSize","bufferLength","dataArray","Uint8Array","draw","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","v","y","moveTo","lineTo","stroke","frequencyBinCount","getByteFrequencyData","barWidth","barHeight"],"mappings":"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","file":"react-mic-record.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-mic-record\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-mic-record\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-mic-record\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-mic-record\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_ReactMicRecord__ = __webpack_require__(1);\n/* harmony export (immutable) */ __webpack_exports__[\"browserSupportsAudio\"] = browserSupportsAudio;\n\n\nfunction browserSupportsAudio() {\n    var AudioContextClass = window.AudioContext || window.webkitAudioContext;\n    if (!AudioContextClass) {\n        return false;\n    }\n    var tmp = new AudioContextClass();\n    if (!tmp) {\n        return false;\n    }\n    tmp.ok = true;\n    return !!tmp.createAnalyser;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = __WEBPACK_IMPORTED_MODULE_0__components_ReactMicRecord__[\"a\" /* default */];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__libs_MicrophoneRecorder__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__libs_AudioContext__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__libs_AudioPlayer__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__libs_Visualizer__ = __webpack_require__(5);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ReactMicRecord; });\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar ReactMicRecord = (_temp = _class = function (_React$Component) {\n    _inherits(ReactMicRecord, _React$Component);\n\n    function ReactMicRecord(props) {\n        _classCallCheck(this, ReactMicRecord);\n\n        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n        _this.audioContext = null;\n        _this.microphoneRecorder = null;\n        _this.state = {\n            canvas: null,\n            canvasCtx: null\n        };\n        return _this;\n    }\n\n    ReactMicRecord.prototype.componentDidMount = function componentDidMount() {\n        var _this2 = this;\n\n        var _props = this.props,\n            onStop = _props.onStop,\n            onStart = _props.onStart,\n            onData = _props.onData,\n            audioElem = _props.audioElem,\n            audioBitsPerSecond = _props.audioBitsPerSecond,\n            mimeType = _props.mimeType;\n\n        var canvas = this.visualizerRef;\n        var canvasCtx = canvas.getContext(\"2d\");\n        var options = { audioBitsPerSecond: audioBitsPerSecond, mimeType: mimeType };\n\n        this.audioContext = new __WEBPACK_IMPORTED_MODULE_2__libs_AudioContext__[\"a\" /* default */]();\n\n        if (audioElem) {\n            this.audioPlayer = new __WEBPACK_IMPORTED_MODULE_3__libs_AudioPlayer__[\"a\" /* default */](audioElem, this.audioContext);\n        } else {\n            this.microphoneRecorder = new __WEBPACK_IMPORTED_MODULE_1__libs_MicrophoneRecorder__[\"a\" /* default */](onStart, onStop, onData, options, this.audioContext);\n        }\n\n        this.setState({ canvas: canvas, canvasCtx: canvasCtx }, function () {\n            return _this2.visualize();\n        });\n    };\n\n    ReactMicRecord.prototype.componentWillUnmount = function componentWillUnmount() {\n        if (this.microphoneRecorder) {\n            this.microphoneRecorder.unMount();\n            this.clear();\n        }\n    };\n\n    ReactMicRecord.prototype.visualize = function visualize() {\n        var _props2 = this.props,\n            backgroundColor = _props2.backgroundColor,\n            strokeColor = _props2.strokeColor,\n            width = _props2.width,\n            height = _props2.height,\n            visualSetting = _props2.visualSetting;\n        var _state = this.state,\n            canvas = _state.canvas,\n            canvasCtx = _state.canvasCtx;\n\n\n        this.visualizer = new __WEBPACK_IMPORTED_MODULE_4__libs_Visualizer__[\"a\" /* default */](this.audioContext, canvasCtx, canvas, width, height, backgroundColor, strokeColor);\n\n        if (visualSetting === 'sinewave') {\n            this.visualizer.visualizeSineWave();\n        } else if (visualSetting === 'frequencyBars') {\n            this.visualizer.visualizeFrequencyBars();\n        }\n    };\n\n    ReactMicRecord.prototype.clear = function clear() {\n        var _state2 = this.state,\n            canvasCtx = _state2.canvasCtx,\n            width = _state2.width,\n            height = _state2.height;\n\n        canvasCtx.clearRect(0, 0, width, height);\n    };\n\n    ReactMicRecord.prototype.render = function render() {\n        var _this3 = this;\n\n        var _props3 = this.props,\n            record = _props3.record,\n            width = _props3.width,\n            height = _props3.height,\n            className = _props3.className;\n\n\n        if (record) {\n            if (this.microphoneRecorder) {\n                this.microphoneRecorder.startRecording();\n                this.visualize();\n            }\n        } else {\n            if (this.microphoneRecorder) {\n                this.microphoneRecorder.stopRecording();\n                this.clear();\n            }\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('canvas', { ref: function ref(c) {\n                return _this3.visualizerRef = c;\n            }, height: height, width: width, className: className });\n    };\n\n    return ReactMicRecord;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component), _class.defaultProps = {\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    strokeColor: '#000000',\n    className: 'visualizer',\n    audioBitsPerSecond: 128000,\n    mimeType: 'audio/webm;codecs=opus',\n    record: false,\n    width: 640,\n    height: 100,\n    visualSetting: 'sinewave'\n}, _temp);\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AudioContext; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioContext = function () {\n    function AudioContext() {\n        _classCallCheck(this, AudioContext);\n\n        this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n        this.analyser = this.audioCtx.createAnalyser();\n    }\n\n    AudioContext.prototype.getAudioContext = function getAudioContext() {\n        return this.audioCtx;\n    };\n\n    AudioContext.prototype.getAnalyser = function getAnalyser() {\n        return this.analyser;\n    };\n\n    return AudioContext;\n}();\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AudioPlayer; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioPlayer = function AudioPlayer(audioElem, audioContext) {\n    _classCallCheck(this, AudioPlayer);\n\n    var audioCtx = audioContext.getAudioContext();\n    var analyser = audioContext.getAnalyser();\n\n    this.audioSource = audioCtx.createMediaElementSource(audioElem);\n    this.audioSource.connect(analyser);\n    analyser.connect(audioCtx.destination);\n};\n\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MicrophoneRecorder; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar constraints = { audio: true, video: false }; // constraints - only audio needed\n\nvar MicrophoneRecorder = function () {\n    function MicrophoneRecorder(onStart, onStop, onData, options, audioContext) {\n        _classCallCheck(this, MicrophoneRecorder);\n\n        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\n        this.audioCtx = audioContext.getAudioContext();\n        this.analyser = audioContext.getAnalyser();\n        this.stream = null;\n        this.onStartCb = onStart;\n        this.onStopCb = onStop;\n        this.mediaOptions = options;\n        this.onData = onData;\n        this.chunks = [];\n        this.startTime = null;\n    }\n\n    MicrophoneRecorder.prototype.startRecording = function startRecording() {\n        var _this = this;\n\n        this.startTime = Date.now();\n\n        if (this.mediaRecorder) {\n\n            if (this.audioCtx && this.audioCtx.state === 'suspended') {\n                this.audioCtx.resume();\n            }\n\n            if (this.mediaRecorder && this.mediaRecorder.state === 'paused') {\n                this.mediaRecorder.resume();\n                return;\n            }\n\n            if (this.audioCtx && this.mediaRecorder && this.mediaRecorder.state === 'inactive') {\n                this.mediaRecorder.start(10);\n                var source = this.audioCtx.createMediaStreamSource(this.stream);\n                source.connect(this.analyser);\n                if (this.onStartCb) {\n                    this.onStartCb();\n                }\n            }\n        } else {\n            if (navigator.mediaDevices) {\n                console.log('getUserMedia supported.');\n                navigator.mediaDevices.getUserMedia(constraints).then(function (str) {\n\n                    _this.stream = str;\n\n                    if (MediaRecorder.isTypeSupported(_this.mediaOptions.mimeType)) {\n                        _this.mediaRecorder = new MediaRecorder(_this.stream, _this.mediaOptions);\n                    } else {\n                        _this.mediaRecorder = new MediaRecorder(_this.stream);\n                    }\n\n                    if (_this.onStartCb) {\n                        _this.onStartCb();\n                    }\n\n                    _this.mediaRecorder.onstop = function () {\n                        return _this.onStop();\n                    };\n                    _this.mediaRecorder.ondataavailable = function (e) {\n                        _this.chunks.push(e.data);\n                        if (_this.onData) {\n                            _this.onData(e.data);\n                        }\n                    };\n\n                    _this.mediaRecorder.start(10);\n\n                    var source = _this.audioCtx.createMediaStreamSource(_this.stream);\n                    source.connect(_this.analyser);\n                });\n            } else {\n                alert('Your browser does not support audio recording');\n            }\n        }\n    };\n\n    MicrophoneRecorder.prototype.stopRecording = function stopRecording() {\n        if (this.mediaRecorder && this.mediaRecorder.state !== 'inactive') {\n            this.mediaRecorder.stop();\n            this.audioCtx.suspend();\n        }\n    };\n\n    MicrophoneRecorder.prototype.unMount = function unMount() {\n        this.stream && this.stream.getTracks()[0].stop();\n        this.mediaRecorder = null;\n    };\n\n    MicrophoneRecorder.prototype.onStop = function onStop() {\n        var blob = new Blob(this.chunks, { 'type': this.mediaOptions.mimeType });\n        this.chunks = [];\n\n        var blobObject = {\n            blob: blob,\n            startTime: this.startTime,\n            stopTime: Date.now(),\n            options: this.mediaOptions,\n            blobURL: window.URL.createObjectURL(blob)\n        };\n\n        if (this.onStopCb) {\n            this.onStopCb(blobObject);\n        }\n    };\n\n    return MicrophoneRecorder;\n}();\n\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Visualizer; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : null;\n}\n\nvar Visualizer = function () {\n    function Visualizer(audioContext, canvasCtx, canvas, width, height, backgroundColor, strokeColor) {\n        _classCallCheck(this, Visualizer);\n\n        this.analyser = audioContext.getAnalyser();\n        this.canvasCtx = canvasCtx;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this.backgroundColor = backgroundColor;\n        this.strokeColor = strokeColor;\n        this.drawVisual = null;\n    }\n\n    Visualizer.prototype.visualizeSineWave = function visualizeSineWave() {\n        var _this = this;\n\n        this.analyser.fftSize = 2048;\n\n        var bufferLength = this.analyser.fftSize;\n        var dataArray = new Uint8Array(bufferLength);\n\n        this.canvasCtx.clearRect(0, 0, this.width, this.height);\n\n        var draw = function draw() {\n            _this.drawVisual = requestAnimationFrame(draw);\n\n            _this.analyser.getByteTimeDomainData(dataArray);\n\n            _this.canvasCtx.fillStyle = _this.backgroundColor;\n            _this.canvasCtx.fillRect(0, 0, _this.width, _this.height);\n\n            _this.canvasCtx.lineWidth = 2;\n            _this.canvasCtx.strokeStyle = _this.strokeColor;\n\n            _this.canvasCtx.beginPath();\n\n            var sliceWidth = _this.width * 1.0 / bufferLength;\n            var x = 0;\n\n            for (var i = 0; i < bufferLength; i++) {\n                var v = dataArray[i] / 128.0;\n                var y = v * _this.height / 2;\n\n                if (i === 0) {\n                    _this.canvasCtx.moveTo(x, y);\n                } else {\n                    _this.canvasCtx.lineTo(x, y);\n                }\n\n                x += sliceWidth;\n            }\n\n            _this.canvasCtx.lineTo(_this.canvas.width, _this.canvas.height / 2);\n            _this.canvasCtx.stroke();\n        };\n\n        draw();\n    };\n\n    Visualizer.prototype.visualizeFrequencyBars = function visualizeFrequencyBars() {\n        var _this2 = this;\n\n        this.analyser.fftSize = 256;\n        var bufferLength = this.analyser.frequencyBinCount;\n        var dataArray = new Uint8Array(bufferLength);\n\n        this.canvasCtx.clearRect(0, 0, this.width, this.height);\n\n        var draw = function draw() {\n            _this2.drawVisual = requestAnimationFrame(draw);\n\n            _this2.analyser.getByteFrequencyData(dataArray);\n\n            _this2.canvasCtx.fillStyle = _this2.backgroundColor;\n            _this2.canvasCtx.fillRect(0, 0, _this2.width, _this2.height);\n\n            var barWidth = _this2.width / bufferLength * 2.5;\n            var barHeight = void 0;\n            var x = 0;\n\n            for (var i = 0; i < bufferLength; i++) {\n                barHeight = dataArray[i];\n\n                var rgb = hexToRgb(_this2.strokeColor);\n\n                _this2.canvasCtx.fillStyle = _this2.strokeColor;\n                _this2.canvasCtx.fillRect(x, _this2.height - barHeight / 2, barWidth, barHeight / 2);\n\n                x += barWidth + 1;\n            }\n        };\n\n        draw();\n    };\n\n    return Visualizer;\n}();\n\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// react-mic-record.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9c14a8afa5bb07fc85c3","import ReactMicRecord from './components/ReactMicRecord';\n\nexport function browserSupportsAudio() {\n    const AudioContextClass = window.AudioContext || window.webkitAudioContext;\n    if (!AudioContextClass) {\n        return false;\n    }\n    const tmp = new AudioContextClass();\n    if (!tmp) {\n        return false;\n    }\n    tmp.ok = true;\n    return !!tmp.createAnalyser;\n    \n}\n\n\nexport default ReactMicRecord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport MicrophoneRecorder from '../libs/MicrophoneRecorder';\nimport AudioContext from '../libs/AudioContext';\nimport AudioPlayer from '../libs/AudioPlayer';\nimport Visualizer from '../libs/Visualizer';\n\nexport default class ReactMicRecord extends React.Component {\n    \n    static defaultProps = {\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        strokeColor: '#000000',\n        className: 'visualizer',\n        audioBitsPerSecond: 128000,\n        mimeType: 'audio/webm;codecs=opus',\n        record: false,\n        width: 640,\n        height: 100,\n        visualSetting: 'sinewave'\n    };\n    \n    constructor(props) {\n        super(props);\n        this.audioContext = null;\n        this.microphoneRecorder = null;\n        this.state = {\n            canvas: null,\n            canvasCtx: null\n        }\n    }\n    \n    componentDidMount() {\n\n        const {onStop, onStart, onData, audioElem, audioBitsPerSecond, mimeType} = this.props;\n        const canvas = this.visualizerRef;\n        const canvasCtx = canvas.getContext(\"2d\");\n        const options = {audioBitsPerSecond, mimeType};\n        \n        this.audioContext = new AudioContext();\n        \n        if (audioElem) {\n            this.audioPlayer = new AudioPlayer(audioElem, this.audioContext);\n        } else {\n            this.microphoneRecorder = new MicrophoneRecorder(onStart, onStop, onData, options, this.audioContext);\n        }\n        \n        this.setState({canvas, canvasCtx}, () => this.visualize());\n    }\n    \n    componentWillUnmount() {\n        if (this.microphoneRecorder) {\n            this.microphoneRecorder.unMount();\n            this.clear();\n        }\n    }\n    \n    visualize() {\n        const {backgroundColor, strokeColor, width, height, visualSetting} = this.props;\n        const {canvas, canvasCtx} = this.state;\n        \n        this.visualizer = new Visualizer(this.audioContext, canvasCtx, canvas, width, height, backgroundColor, strokeColor);\n        \n        if (visualSetting === 'sinewave') {\n            this.visualizer.visualizeSineWave();\n            \n        } else if (visualSetting === 'frequencyBars') {\n            this.visualizer.visualizeFrequencyBars();\n        }\n    }\n    \n    clear() {\n        const {canvasCtx, width, height} = this.state;\n        canvasCtx.clearRect(0, 0, width, height);\n    }\n    \n    render() {\n        const {record, width, height, className} = this.props;\n        \n        if (record) {\n            if (this.microphoneRecorder) {\n                this.microphoneRecorder.startRecording();\n                this.visualize();\n            }\n        } else {\n            if (this.microphoneRecorder) {\n                this.microphoneRecorder.stopRecording();\n                this.clear();\n            }\n        }\n        \n        return <canvas ref={c => this.visualizerRef = c} height={height} width={width} className={className}/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ReactMicRecord.js","export default class AudioContext {\n    \n    constructor() {\n        this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n        this.analyser = this.audioCtx.createAnalyser();\n    }\n    \n    \n    getAudioContext() {\n        return this.audioCtx;\n    }\n    \n    getAnalyser() {\n        return this.analyser;\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/AudioContext.js","export default class AudioPlayer {\n    constructor(audioElem, audioContext) {\n        const audioCtx = audioContext.getAudioContext();\n        const analyser = audioContext.getAnalyser();\n        \n        this.audioSource = audioCtx.createMediaElementSource(audioElem);\n        this.audioSource.connect(analyser);\n        analyser.connect(audioCtx.destination);\n    }\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/AudioPlayer.js","const constraints = {audio: true, video: false}; // constraints - only audio needed\n\nexport default class MicrophoneRecorder {\n    constructor(onStart, onStop, onData, options, audioContext) {\n        \n        navigator.getUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia ||\n            navigator.msGetUserMedia);\n        \n        this.audioCtx = audioContext.getAudioContext();\n        this.analyser = audioContext.getAnalyser();\n        this.stream = null;\n        this.onStartCb = onStart;\n        this.onStopCb = onStop;\n        this.mediaOptions = options;\n        this.onData = onData;\n        this.chunks = [];\n        this.startTime = null;\n    }\n    \n    startRecording() {\n        this.startTime = Date.now();\n        \n        if (this.mediaRecorder) {\n            \n            if (this.audioCtx && this.audioCtx.state === 'suspended') {\n                this.audioCtx.resume();\n            }\n            \n            if (this.mediaRecorder && this.mediaRecorder.state === 'paused') {\n                this.mediaRecorder.resume();\n                return;\n            }\n            \n            if (this.audioCtx && this.mediaRecorder && this.mediaRecorder.state === 'inactive') {\n                this.mediaRecorder.start(10);\n                const source = this.audioCtx.createMediaStreamSource(this.stream);\n                source.connect(this.analyser);\n                if (this.onStartCb) {\n                    this.onStartCb();\n                }\n            }\n        } else {\n            if (navigator.mediaDevices) {\n                console.log('getUserMedia supported.');\n                navigator.mediaDevices.getUserMedia(constraints).then(str => {\n                    \n                    this.stream = str;\n                    \n                    if (MediaRecorder.isTypeSupported(this.mediaOptions.mimeType)) {\n                        this.mediaRecorder = new MediaRecorder(this.stream, this.mediaOptions);\n                    } else {\n                        this.mediaRecorder = new MediaRecorder(this.stream);\n                    }\n                    \n                    if (this.onStartCb) {\n                        this.onStartCb();\n                    }\n                    \n                    this.mediaRecorder.onstop = () => this.onStop();\n                    this.mediaRecorder.ondataavailable = e => {\n                        this.chunks.push(e.data);\n                        if (this.onData) {\n                            this.onData(e.data);\n                        }\n                    };\n                    \n                    this.mediaRecorder.start(10);\n                    \n                    const source = this.audioCtx.createMediaStreamSource(this.stream);\n                    source.connect(this.analyser);\n                    \n                });\n            } else {\n                alert('Your browser does not support audio recording');\n            }\n        }\n        \n    }\n    \n    stopRecording() {\n        if (this.mediaRecorder && this.mediaRecorder.state !== 'inactive') {\n            this.mediaRecorder.stop();\n            this.audioCtx.suspend();\n        }\n    }\n    \n    unMount() {\n        this.stream && this.stream.getTracks()[0].stop();\n        this.mediaRecorder = null;\n    }\n    \n    onStop() {\n        const blob = new Blob(this.chunks, {'type': this.mediaOptions.mimeType});\n        this.chunks = [];\n        \n        const blobObject = {\n            blob,\n            startTime: this.startTime,\n            stopTime: Date.now(),\n            options: this.mediaOptions,\n            blobURL: window.URL.createObjectURL(blob)\n        };\n        \n        if (this.onStopCb) {\n            this.onStopCb(blobObject);\n        }\n        \n    }\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/MicrophoneRecorder.js","function hexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n    } : null;\n}\n\nexport default class Visualizer {\n    \n    constructor(audioContext, canvasCtx, canvas, width, height, backgroundColor, strokeColor) {\n        this.analyser = audioContext.getAnalyser();\n        this.canvasCtx = canvasCtx;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this.backgroundColor = backgroundColor;\n        this.strokeColor = strokeColor;\n        this.drawVisual = null;\n    }\n    \n    \n    visualizeSineWave() {\n        this.analyser.fftSize = 2048;\n        \n        const bufferLength = this.analyser.fftSize;\n        const dataArray = new Uint8Array(bufferLength);\n        \n        this.canvasCtx.clearRect(0, 0, this.width, this.height);\n        \n        const draw = () => {\n            this.drawVisual = requestAnimationFrame(draw);\n            \n            this.analyser.getByteTimeDomainData(dataArray);\n            \n            this.canvasCtx.fillStyle = this.backgroundColor;\n            this.canvasCtx.fillRect(0, 0, this.width, this.height);\n            \n            this.canvasCtx.lineWidth = 2;\n            this.canvasCtx.strokeStyle = this.strokeColor;\n            \n            this.canvasCtx.beginPath();\n            \n            const sliceWidth = this.width * 1.0 / bufferLength;\n            let x = 0;\n            \n            for (let i = 0; i < bufferLength; i++) {\n                const v = dataArray[i] / 128.0;\n                const y = v * this.height / 2;\n                \n                if (i === 0) {\n                    this.canvasCtx.moveTo(x, y);\n                } else {\n                    this.canvasCtx.lineTo(x, y);\n                }\n                \n                x += sliceWidth;\n            }\n            \n            this.canvasCtx.lineTo(this.canvas.width, this.canvas.height / 2);\n            this.canvasCtx.stroke();\n        };\n        \n        draw();\n    }\n    \n    visualizeFrequencyBars() {\n        this.analyser.fftSize = 256;\n        const bufferLength = this.analyser.frequencyBinCount;\n        const dataArray = new Uint8Array(bufferLength);\n        \n        this.canvasCtx.clearRect(0, 0, this.width, this.height);\n        \n        const draw = () => {\n            this.drawVisual = requestAnimationFrame(draw);\n            \n            this.analyser.getByteFrequencyData(dataArray);\n            \n            this.canvasCtx.fillStyle = this.backgroundColor;\n            this.canvasCtx.fillRect(0, 0, this.width, this.height);\n            \n            const barWidth = (this.width / bufferLength) * 2.5;\n            let barHeight;\n            let x = 0;\n            \n            for (let i = 0; i < bufferLength; i++) {\n                barHeight = dataArray[i];\n                \n                const rgb = hexToRgb(this.strokeColor);\n                \n                this.canvasCtx.fillStyle = this.strokeColor;\n                this.canvasCtx.fillRect(x, this.height - barHeight / 2, barWidth, barHeight / 2);\n                \n                x += barWidth + 1;\n            }\n        };\n        \n        draw();\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/Visualizer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}